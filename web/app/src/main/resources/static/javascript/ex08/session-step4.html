<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>세션 다루기</title>
</head>
<body>

<h1>4단계</h1>
이름: <span id="x-name"></span><br>
나이: <span id="x-age"></span><br>
재직자: <span id="x-working"></span><br>

<script type="text/javascript">

fetch("/session/step4").then(function(response) { // => {"name":"채다해","working":false,"age":30}
    return response.json(); // 서버에서 받은 JSON 형식의 문자열을 분해하여 자바스크립트 객체로 만들어 리턴한다.
}).then(function(obj) {
    console.log(obj); // => {name: '채다해', working: false, age: 30}
    console.log(obj.name); // => 채다해
    console.log(obj.age); // => 30
    console.log(obj.working); // => false
    // => JSON 형식의 문자열을 JS 객체로 리턴하면 값을 꺼내기 쉬움!
    
    
    document.querySelector("#x-name").innerHTML = obj.name;
    document.querySelector("#x-age").innerHTML = obj.age;
    if(obj.working == false) {
      document.querySelector("#x-working").innerHTML = "미취업자";
    } else {
      document.querySelector("#x-working").innerHTML = "재직자";
    }
});






</script>

</body>
</html>